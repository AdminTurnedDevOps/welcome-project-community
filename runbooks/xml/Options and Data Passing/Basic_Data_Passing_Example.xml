<joblist>
  <job>
    <defaultTab>nodes</defaultTab>
    <description><![CDATA[Basic data-passing feature example.

More info here: https://docs.rundeck.com/docs/manual/log-filters/key-value-data.html#key-value-data]]></description>
    <executionEnabled>true</executionEnabled>
    <group>Basic Examples/Options and Data Passing</group>
    <id>a0daf1e3-e918-43dc-b232-bc46a7a287b6</id>
    <loglevel>INFO</loglevel>
    <name>Basic Data Passing Example</name>
    <nodeFilterEditable>false</nodeFilterEditable>
    <plugins />
    <scheduleEnabled>true</scheduleEnabled>
    <sequence keepgoing='false' strategy='node-first'>
      <command>
        <description>Print all env vars key/values</description>
        <exec>env</exec>
        <plugins>
          <LogFilter type='key-value-data'>
            <config>
              <invalidKeyPattern>\s|\$|\{|\}|\\</invalidKeyPattern>
              <logData>true</logData>
              <regex>^(SHELL|USER|PWD)\s*=\s*(.+)$</regex>
            </config>
          </LogFilter>
        </plugins>
      </command>
      <command>
        <description>Get only the SHELL key/value</description>
        <exec>echo "Shell is: ${data.SHELL}"</exec>
      </command>
      <command>
        <description>Get only the USER key/value</description>
        <exec>echo "Username is: ${data.USER}"</exec>
      </command>
      <command>
        <description>Get only the PWD key/value</description>
        <exec>echo "Default user workspace is: ${data.PWD}"</exec>
      </command>
    </sequence>
    <uuid>a0daf1e3-e918-43dc-b232-bc46a7a287b6</uuid>
  </job>
</joblist>