<joblist>
  <job>
    <context>
      <options preserveOrder='true'>
        <option name='list_one' value='494,192,111,214'>
          <label>List One</label>
        </option>
        <option name='list_two' required='true' value='494,192,111,214,999'>
          <label>List Two</label>
        </option>
      </options>
    </context>
    <defaultTab>nodes</defaultTab>
    <description>Comparing two list option and get the difference.</description>
    <executionEnabled>true</executionEnabled>
    <group>Use Cases/Misc</group>
    <id>5a067bd8-3aa4-47eb-a522-19a5d9cdd797</id>
    <loglevel>INFO</loglevel>
    <name>Comparing Two Lists</name>
    <nodeFilterEditable>false</nodeFilterEditable>
    <plugins />
    <scheduleEnabled>true</scheduleEnabled>
    <sequence keepgoing='false' strategy='node-first'>
      <command>
        <description>Bash inline-script that compares two list.</description>
        <fileExtension>.sh</fileExtension>
        <script><![CDATA[# list one
VAR1=@option.list_one@

# list two
VAR2=@option.list_two@

# for debug
echo "******************"
echo "Your list: $VAR1"
echo "Your expected values: $VAR2"
echo "******************"

Field_Separator=$IFS

# set comma as internal field separator for the string list
IFS=,

# store the missing values
a=()

# check two lists
for i in $VAR2; do
    found=
    for j in $VAR1; do
        if [ $i == $j ]; then
            found=1
            break
        fi
    done
    if [ ! $found ]; then
        a+=($i)
    fi
done

# now verify the possible missing values
if [[ -z "${a[*]}" ]]; then
   echo "All ok!"
else
  echo "missing values: ${a[*]}"
fi

IFS=$Field_Separator]]></script>
        <scriptargs />
        <scriptinterpreter>/bin/bash</scriptinterpreter>
      </command>
    </sequence>
    <uuid>5a067bd8-3aa4-47eb-a522-19a5d9cdd797</uuid>
  </job>
</joblist>